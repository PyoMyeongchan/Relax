# ğŸ® Relax Architecture

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”
í¸ì•ˆí•œ ì •ë ¬ì˜ ë§Œì¡±ê°ì„ ì£¼ëŠ” ìºì£¼ì–¼ í¼ì¦ ê²Œì„
- **í”Œë«í¼**: Android
- **ì¥ë¥´**: ìºì£¼ì–¼ í¼ì¦
- **í•µì‹¬ ì»¨ì…‰**: ì˜¤ë¸Œì íŠ¸ë¥¼ ì •ë ¬/ë°°ì¹˜í•˜ì—¬ ë§Œì¡±ê° ì œê³µ

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
Assets/
â”œâ”€â”€ Scenes/
â”‚   â””â”€â”€ MainGame.unity
â”‚
â”œâ”€â”€ Scripts/
â”‚   â”œâ”€â”€ Core/
â”‚   â”‚   â”œâ”€â”€ GameManager.cs           # ê²Œì„ ì „ì²´ ê´€ë¦¬ (ì‹±ê¸€í†¤)
â”‚   â”‚   â””â”€â”€ StageManager.cs          # ìŠ¤í…Œì´ì§€ ë¡œë“œ/ì§„í–‰/í´ë¦¬ì–´
â”‚   â”‚
â”‚   â”œâ”€â”€ Grid/
â”‚   â”‚   â”œâ”€â”€ GridSystem.cs            # ê²©ì ìƒì„±/ê´€ë¦¬/ìƒíƒœ ì²´í¬
â”‚   â”‚   â””â”€â”€ GridCell.cs              # ê°œë³„ ì…€ (ë¹„ì–´ìˆìŒ/ì±„ì›Œì§)
â”‚   â”‚
â”‚   â”œâ”€â”€ Block/
â”‚   â”‚   â”œâ”€â”€ BlockObject.cs           # ë¸”ë¡ ê°œì²´ (ëª¨ì–‘, ì„ íƒ ìƒíƒœ)
â”‚   â”‚   â”œâ”€â”€ BlockSpawner.cs          # ë¸”ë¡ ìƒì„± ë° ë°°ì¹˜
â”‚   â”‚   â””â”€â”€ BlockShape.cs            # ë¸”ë¡ ëª¨ì–‘ ë°ì´í„°
â”‚   â”‚
â”‚   â”œâ”€â”€ Placement/
â”‚   â”‚   â””â”€â”€ PlacementSystem.cs       # ë°°ì¹˜ ë¡œì§/ê²€ì¦/í”„ë¦¬ë·°
â”‚   â”‚
â”‚   â”œâ”€â”€ Input/
â”‚   â”‚   â””â”€â”€ InputManager.cs          # í´ë¦­ ì…ë ¥ ì²˜ë¦¬
â”‚   â”‚
â”‚   â””â”€â”€ Data/
â”‚       â””â”€â”€ StageData.cs             # ìŠ¤í…Œì´ì§€ ë°ì´í„° (ScriptableObject)
â”‚
â”œâ”€â”€ Prefabs/
â”‚   â”œâ”€â”€ GridCell.prefab
â”‚   â””â”€â”€ Block.prefab
â”‚
â”œâ”€â”€ Materials/
â”‚   â””â”€â”€ BlockMaterials/
â”‚
â”œâ”€â”€ Audio/
â”‚   â”œâ”€â”€ BGM/
â”‚   â”‚   â””â”€â”€ main_bgm.mp3             # ë©”ì¸ ë°°ê²½ìŒ (ë£¨í”„)
â”‚   â””â”€â”€ SFX/
â”‚       â”œâ”€â”€ click.wav                # ì¼ë°˜ í´ë¦­
â”‚       â”œâ”€â”€ success.wav              # ì„±ê³µ
â”‚       â””â”€â”€ fail.wav                 # ì‹¤íŒ¨
â”‚
â””â”€â”€ Resources/
    â””â”€â”€ Stages/
        â”œâ”€â”€ Stage_1_1.asset
        â”œâ”€â”€ Stage_1_2.asset
        â””â”€â”€ Stage_1_3.asset
```

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
GameManager (Singleton)
    â”‚
    â”œâ”€â”€â”€ StageManager
    â”‚       â”œâ”€ í˜„ì¬ ìŠ¤í…Œì´ì§€ ì •ë³´
    â”‚       â”œâ”€ StageData ë¡œë“œ
    â”‚       â””â”€ í´ë¦¬ì–´ ì²´í¬
    â”‚
    â”œâ”€â”€â”€ GridSystem
    â”‚       â”œâ”€ ê²©ì ìƒì„±
    â”‚       â”œâ”€ GridCell[] ê´€ë¦¬
    â”‚       â”œâ”€ ì…€ ìƒíƒœ ê´€ë¦¬
    â”‚       â””â”€ ì „ì²´ ì±„ì›Œì§ ê²€ì¦
    â”‚
    â”œâ”€â”€â”€ BlockSpawner
    â”‚       â”œâ”€ StageData ê¸°ë°˜ ë¸”ë¡ ìƒì„±
    â”‚       â””â”€ ëŒ€ê¸° ì˜ì—­ì— ë°°ì¹˜
    â”‚
    â”œâ”€â”€â”€ PlacementSystem
    â”‚       â”œâ”€ ë°°ì¹˜ ê°€ëŠ¥ ì—¬ë¶€ ì²´í¬
    â”‚       â”œâ”€ í”„ë¦¬ë·° í‘œì‹œ
    â”‚       â””â”€ ê²©ìì— ë¸”ë¡ ë°°ì¹˜
    â”‚
    â””â”€â”€â”€ InputManager
            â”œâ”€ ë¸”ë¡ í´ë¦­ â†’ ì„ íƒ
            â””â”€ ì…€ í´ë¦­ â†’ ë°°ì¹˜ ì‹œë„
```

---

## ğŸ”„ ê²Œì„ í”Œë¡œìš°

### ì´ˆê¸°í™”
```
GameManager.Start()
  â†“
StageManager.LoadStage(stageNumber)
  â†“
GridSystem.CreateGrid(width, height)
  â†“
BlockSpawner.SpawnBlocks(stageData.blocks)
```

### í”Œë ˆì´ ë£¨í”„
```
InputManager.OnClick()
  â†“
ë¸”ë¡ í´ë¦­? â†’ selectedBlock ì €ì¥
  â†“
ì…€ í´ë¦­? â†’ PlacementSystem.TryPlace(block, cell)
  â†“
ë°°ì¹˜ ê°€ëŠ¥?
  â”œâ”€ YES â†’ GridSystem.UpdateCells()
  â”‚         BlockObject ìœ„ì¹˜ ì´ë™
  â”‚         SFX: success.wav
  â”‚
  â””â”€ NO  â†’ ë°°ì¹˜ ì‹¤íŒ¨
            SFX: fail.wav
```

### í´ë¦¬ì–´ ì²´í¬
```
PlacementSystem.OnBlockPlaced()
  â†“
GridSystem.IsGridFull()?
  â†“
YES â†’ StageManager.OnStageComplete()
       â†“
     ë‹¤ìŒ ìŠ¤í…Œì´ì§€ ë¡œë“œ
```

---

## ğŸ“Š í´ë˜ìŠ¤ ì±…ì„

| í´ë˜ìŠ¤ | ì±…ì„ |
|--------|------|
| **GameManager** | ì „ì²´ ê²Œì„ íë¦„ ì´ê´„, ì‹±ê¸€í†¤ |
| **StageManager** | ìŠ¤í…Œì´ì§€ ë¡œë“œ/ì§„í–‰/ì™„ë£Œ ê´€ë¦¬ |
| **GridSystem** | ê²©ì ìƒì„± ë° ì…€ ìƒíƒœ ê´€ë¦¬ |
| **GridCell** | ê°œë³„ ì…€ ì •ë³´ (ì¢Œí‘œ, ìƒíƒœ) |
| **BlockObject** | ë¸”ë¡ ê°œì²´ì˜ ëª¨ì–‘ê³¼ ìƒíƒœ |
| **BlockSpawner** | ë¸”ë¡ ìƒì„± ë° ì´ˆê¸° ë°°ì¹˜ |
| **PlacementSystem** | ë°°ì¹˜ ê°€ëŠ¥ ì—¬ë¶€ ê²€ì¦ ë° ì‹¤í–‰ |
| **InputManager** | ì‚¬ìš©ì ì…ë ¥(í´ë¦­) ì²˜ë¦¬ |
| **StageData** | ìŠ¤í…Œì´ì§€ ì •ë³´ (ScriptableObject) |

---

## ğŸ¯ ë°ì´í„° êµ¬ì¡°

### StageData (ScriptableObject)
```csharp
public class StageData : ScriptableObject
{
    public int stageNumber;
    public int gridWidth;
    public int gridHeight;
    public List<BlockShapeData> blocks;
}
```

### BlockShapeData
```csharp
[System.Serializable]
public class BlockShapeData
{
    public bool[,] shape;      // 2D ë¸”ë¡ ëª¨ì–‘
    public Vector2Int size;    // ë¸”ë¡ í¬ê¸°
}
```

---

## ğŸ® ë¯¸ë‹ˆê²Œì„ íƒ€ì… (ê³„íš)

ê° íƒ€ì…ë‹¹ 3ê°œ ìŠ¤í…Œì´ì§€ ì˜ˆì •

1. **í…ŒíŠ¸ë¦¬ìŠ¤í˜• ì±„ìš°ê¸°** â­ (1ì°¨ êµ¬í˜„)
   - ë‹¤ì–‘í•œ ëª¨ì–‘ì˜ ë¸”ë¡ì„ ê²©ìì— ì™„ë²½í•˜ê²Œ ì±„ìš°ê¸°

2. **ë†’ì´ ë§ì¶”ê¸°**
   - ë‹¤ì–‘í•œ ë†’ì´ì˜ íë¸Œë¥¼ í‰í‰í•˜ê²Œ ì •ë ¬

3. **í¬ê¸° ìˆœì„œ ì •ë ¬**
   - ì‘ì€ ê²ƒë¶€í„° í° ê²ƒê¹Œì§€ ìˆœì„œëŒ€ë¡œ ë°°ì¹˜

4. **ëŒ€ì¹­ ë§ì¶”ê¸°**
   - í•œìª½ íŒ¨í„´ì„ ë°˜ëŒ€í¸ì— ë˜‘ê°™ì´ ë³µì‚¬

5. **ë¹ˆí‹ˆ ë©”ìš°ê¸°**
   - êµ¬ë© ë‚œ ë²½ì— ë”± ë§ëŠ” ë¸”ë¡ ë¼ìš°ê¸°

6. **ì •ë ¬/ì •ëˆ**
   - í©ì–´ì§„ íë¸Œë¥¼ ì¼ë ¬/ì›í˜•ìœ¼ë¡œ ì •ë ¬

7. **íšŒì „ ë§ì¶”ê¸°**
   - íšŒì „ëœ ë¸”ë¡ì„ ëª¨ë‘ ê°™ì€ ë°©í–¥ìœ¼ë¡œ ì •ë ¬

8. **ìŠ¤íƒ ìŒ“ê¸°**
   - ë¸”ë¡ì„ ì•ˆì •ì ìœ¼ë¡œ ìŒ“ê¸°

---

## ğŸ”Š ì‚¬ìš´ë“œ ì‹œìŠ¤í…œ

| íƒ€ì… | íŒŒì¼ | ìš©ë„ |
|------|------|------|
| BGM | main_bgm.mp3 | ë©”ì¸ ë°°ê²½ìŒì•… (ë£¨í”„) |
| SFX | click.wav | ì¼ë°˜ í´ë¦­ |
| SFX | success.wav | ë¸”ë¡ ë°°ì¹˜ ì„±ê³µ |
| SFX | fail.wav | ë°°ì¹˜ ì‹¤íŒ¨ |

---

## ğŸ¨ ë””ìì¸ ì»¨ì…‰

- **ìƒ‰ìƒ**: ìµœì†Œí™” (ë¯¸ë‹ˆë©€)
- **ìŠ¤íƒ€ì¼**: ê¹”ë”í•œ ì •ë ¬/ë°°ì¹˜ì˜ ë§Œì¡±ê°
- **í”¼ë“œë°±**: ì‹œê°/ì²­ê°/ì´‰ê°(í–…í‹±) ì¡°í•©
- **ëª©í‘œ**: í¸ì•ˆí•¨ê³¼ ë§Œì¡±ê° ì œê³µ

---

## ğŸ“ ê°œë°œ ìš°ì„ ìˆœìœ„

1. âœ… í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¤ê³„
2. âœ… ì‚¬ìš´ë“œ ì—ì…‹ ì¤€ë¹„
3. â¬œ GridSystem êµ¬í˜„
4. â¬œ BlockObject êµ¬í˜„
5. â¬œ InputManager êµ¬í˜„
6. â¬œ PlacementSystem êµ¬í˜„
7. â¬œ StageManager êµ¬í˜„
8. â¬œ ì‚¬ìš´ë“œ í†µí•©
9. â¬œ ì²« ìŠ¤í…Œì´ì§€ í…ŒìŠ¤íŠ¸
10. â¬œ ìŠ¤í…Œì´ì§€ 3ê°œ ì™„ì„±
